<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIBZ | Website Order Form</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ==== VIBZ BRAND HEADER STYLES (From Homepage) ==== */
        :root {
            --accent: #FF6B00;
            --accent-light: rgba(255, 107, 0, 0.1);
            --dark: #121212;
            --darker: #0A0A0A;
            --light: #F8FAFC;
            --lighter: #FFFFFF;
            --border: #E5E7EB;
            --text: #374151;
            --text-light: #6B7280;
            --success: #10B981;
            --warning: #F59E0B;
            --radius: 12px;
            --radius-lg: 20px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #fff7f1; /* Exact hero background color from homepage */
            color: var(--text);
            line-height: 1.5;
            min-height: 100vh;
        }

        /* ================= ORDER FORM HEADER (Branded like Homepage) ================= */
        .order-header {
            position: relative;
            width: 100%;
            padding: 1.5rem 6%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(255, 247, 241, 0.95); /* #fff7f1 with slight transparency */
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(238, 238, 238, 0.3);
            z-index: 100;
        }

        .order-logo {
            font-weight: 900;
            font-size: 2rem;
            color: var(--accent);
            letter-spacing: -1px;
            text-align: center;
        }

        .order-logo::after {
            content: ".";
            color: var(--dark);
            margin-left: 2px;
            font-weight: 900;
        }

        .tagline {
            color: var(--text-light);
            font-size: 1.1rem;
            font-weight: 500;
            text-align: center;
            margin-top: 0.5rem;
        }

        /* ================= ORDER FORM CONTAINER ================= */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ================= Progress Indicator ================= */
        .progress {
            display: flex;
            justify-content: space-between;
            margin: 40px 0;
            position: relative;
            counter-reset: step;
        }

        .progress::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--border);
            transform: translateY(-50%);
            z-index: 1;
        }

        .progress-step {
            position: relative;
            z-index: 2;
            background: var(--lighter);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-weight: 700;
            border: 2px solid var(--border);
            transition: all 0.3s ease;
        }

        .progress-step.active {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        .progress-step.completed {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        .step-label {
            position: absolute;
            top: 45px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-size: 0.8rem;
            color: var(--text-light);
            font-weight: 500;
        }

        .progress-step.active .step-label {
            color: var(--accent);
            font-weight: 600;
        }

        /* ================= Form Container ================= */
        .form-container {
            background: var(--lighter);
            border-radius: var(--radius-lg);
            padding: 40px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 30px;
        }

        /* ================= Step Styles ================= */
        .step {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .step.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step-header {
            margin-bottom: 30px;
            text-align: center;
        }

        .step-title {
            font-size: 2rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }

        .step-subtitle {
            color: var(--text-light);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* ================= Plan Summary ================= */
        .plan-summary {
            background: var(--light);
            border-radius: var(--radius);
            padding: 30px;
            border-left: 4px solid var(--accent);
            margin-bottom: 30px;
        }

        .plan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .plan-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
        }

        .plan-badge {
            background: var(--accent);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .plan-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .plan-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .plan-item i {
            color: var(--accent);
            font-size: 1.2rem;
        }

        /* ================= Form Elements ================= */
        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-label small {
            font-weight: normal;
            color: var(--text-light);
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: all 0.2s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-light);
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        select.form-control {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%236B7280' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 40px;
        }

        /* ================= Page Setup ================= */
        .page-card {
            background: var(--light);
            border-radius: var(--radius);
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid var(--border);
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .page-number {
            font-weight: 800;
            color: var(--accent);
            font-size: 1.2rem;
        }

        .page-locked {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            color: var(--success);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        /* ================= Checkbox & Radio Groups ================= */
        .checkbox-group, .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item, .radio-item {
            flex: 1;
            min-width: 120px;
        }

        .checkbox-label, .radio-label {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 15px;
            background: var(--lighter);
            border: 2px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .checkbox-label:hover, .radio-label:hover {
            border-color: var(--accent);
        }

        input[type="checkbox"], input[type="radio"] {
            display: none;
        }

        input[type="checkbox"]:checked + .checkbox-label,
        input[type="radio"]:checked + .radio-label {
            background: var(--accent-light);
            border-color: var(--accent);
            color: var(--accent);
            font-weight: 600;
        }

        .checkbox-label i, .radio-label i {
            font-size: 1.1rem;
        }

        /* ================= AI Fallback ================= */
        .ai-fallback {
            background: var(--accent-light);
            border: 2px dashed var(--accent);
            border-radius: var(--radius);
            padding: 20px;
            margin-top: 15px;
            text-align: center;
        }

        .ai-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            color: var(--accent);
            font-weight: 600;
        }

        /* ================= File Upload ================= */
        .file-upload {
            border: 2px dashed var(--border);
            border-radius: var(--radius);
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .file-upload:hover {
            border-color: var(--accent);
            background: var(--accent-light);
        }

        .file-upload i {
            font-size: 2rem;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .file-upload input[type="file"] {
            display: none;
        }

        /* ================= Help Section ================= */
        .help-section {
            background: linear-gradient(135deg, var(--light) 0%, #f0f9ff 100%);
            border-radius: var(--radius);
            padding: 25px;
            margin-top: 30px;
            border: 1px solid var(--border);
        }

        .help-title {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--dark);
            margin-bottom: 15px;
            font-weight: 700;
        }

        /* ================= Buttons ================= */
        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid var(--border);
        }

        .btn {
            padding: 14px 28px;
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            background: #e55a00;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn-secondary {
            background: var(--lighter);
            color: var(--text);
            border: 2px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--light);
            border-color: var(--text-light);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* ================= Review Summary ================= */
        .review-section {
            background: var(--light);
            border-radius: var(--radius);
            padding: 25px;
            margin-bottom: 20px;
        }

        .review-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: var(--dark);
            font-weight: 700;
        }

        .review-item {
            display: flex;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .review-label {
            min-width: 150px;
            font-weight: 600;
            color: var(--text);
        }

        .review-value {
            flex: 1;
            color: var(--text-light);
        }

        .review-value.ai {
            color: var(--accent);
            font-style: italic;
        }

        /* ================= Success Message ================= */
        #successMessage {
            display: none;
            text-align: center;
            padding: 60px 20px;
        }

        /* ================= Responsive ================= */
        @media (max-width: 768px) {
            .container {
                padding: 0 10px;
            }
            
            .form-container {
                padding: 25px 20px;
            }
            
            .step-title {
                font-size: 1.7rem;
            }
            
            .button-group {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* ================= Additional Branding (From Homepage) ================= */
        .order-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
        }

        body {
            padding-top: 100px;
        }
    </style>
</head>
<body>
    <!-- ================= VIBZ BRANDED HEADER (Like Homepage) ================= -->
    <div class="order-header">
        <div>
            <div class="order-logo">VIBZ</div>
            <div class="tagline">Website Order Form • Complete in 5 minutes</div>
        </div>
    </div>

    <div class="container">
        <!-- Progress Indicator -->
        <div class="progress">
            <div class="progress-step active" id="step1-indicator">
                <span>1</span>
                <div class="step-label">Plan</div>
            </div>
            <div class="progress-step" id="step2-indicator">
                <span>2</span>
                <div class="step-label">Pages</div>
            </div>
            <div class="progress-step" id="step3-indicator">
                <span>3</span>
                <div class="step-label">Features</div>
            </div>
            <div class="progress-step" id="step4-indicator">
                <span>4</span>
                <div class="step-label">Brand</div>
            </div>
            <div class="progress-step" id="step5-indicator">
                <span>5</span>
                <div class="step-label">Confidence</div>
            </div>
            <div class="progress-step" id="step6-indicator">
                <span>6</span>
                <div class="step-label">Review</div>
            </div>
        </div>

        <!-- Form Container -->
        <div class="form-container">
            <form id="websiteOrderForm">
                <!-- STEP 1: Plan Summary -->
                <div class="step active" id="step1">
                    <div class="step-header">
                        <h2 class="step-title">Your Website Plan</h2>
                        <p class="step-subtitle">Here's what you've purchased. You're all set to proceed!</p>
                    </div>

                    <div class="plan-summary">
                        <div class="plan-header">
                            <div class="plan-name" id="planName">Loading...</div>
                            <div class="plan-badge" id="planBadge">Plan</div>
                        </div>
                        <div class="plan-details" id="planDetails">
                            <!-- Filled by JavaScript -->
                        </div>
                    </div>

                    <div class="help-section">
                        <div class="help-title">
                            <i class="fas fa-info-circle"></i>
                            <span>Ready to start?</span>
                        </div>
                        <p>Your plan is locked and loaded. We'll use these parameters to build your perfect website. Click "Next" to begin setting up your pages.</p>
                    </div>
                </div>

                <!-- STEP 2: Page Setup -->
                <div class="step" id="step2">
                    <div class="step-header">
                        <h2 class="step-title">Set Up Your Pages</h2>
                        <p class="step-subtitle">Tell us about each page. Don't worry if you're unsure - we'll handle it!</p>
                    </div>

                    <div id="pagesContainer">
                        <!-- Pages will be generated here -->
                    </div>

                    <div class="help-section">
                        <div class="help-title">
                            <i class="fas fa-lightbulb"></i>
                            <span>Need help with pages?</span>
                        </div>
                        <p>For any page you're unsure about, simply check "I'm not sure - AI should fully design this page" and we'll create it based on industry best practices.</p>
                    </div>
                </div>

                <!-- STEP 3: Features -->
                <div class="step" id="step3">
                    <div class="step-header">
                        <h2 class="step-title">Included Features</h2>
                        <p class="step-subtitle">Everything you get with your plan</p>
                    </div>

                    <div class="plan-summary">
                        <div id="featuresList">
                            <!-- Filled by JavaScript -->
                        </div>
                    </div>

                    <div class="help-section">
                        <div class="help-title">
                            <i class="fas fa-check-circle"></i>
                            <span>All included</span>
                        </div>
                        <p>These features are automatically included with your plan. No need to configure anything - we'll implement them based on your business needs.</p>
                    </div>
                </div>

                <!-- STEP 4: Brand Info -->
                <div class="step" id="step4">
                    <div class="step-header">
                        <h2 class="step-title">Brand & Business Details</h2>
                        <p class="step-subtitle">Tell us about your business</p>
                    </div>

                    <div class="grid-2">
                        <div class="form-group">
                            <label class="form-label" for="businessName">Business Name *</label>
                            <input type="text" class="form-control" id="businessName" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="businessLocation">Location (City, Country) *</label>
                            <input type="text" class="form-control" id="businessLocation" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="businessDescription">Short Business Description *</label>
                        <textarea class="form-control" id="businessDescription" rows="3" required placeholder="What does your business do? Who do you serve?"></textarea>
                    </div>

                    <div class="grid-2">
                        <div class="form-group">
                            <label class="form-label" for="contactEmail">Contact Email *</label>
                            <input type="email" class="form-control" id="contactEmail" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="contactPhone">Phone Number</label>
                            <input type="tel" class="form-control" id="contactPhone">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Logo</label>
                        <div class="file-upload" id="logoUploadArea">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Click to upload your logo</p>
                            <p style="font-size: 0.9rem; color: var(--text-light); margin-top: 5px;">PNG, JPG or SVG • Max 5MB</p>
                            <input type="file" id="logoFile" accept=".png,.jpg,.jpeg,.svg">
                        </div>
                        <div class="ai-fallback" style="margin-top: 15px;">
                            <div class="ai-toggle" id="noLogoToggle">
                                <input type="checkbox" id="noLogoCheckbox">
                                <label for="noLogoCheckbox" style="cursor: pointer;">
                                    <i class="fas fa-magic"></i>
                                    I don't have a logo - create one for me
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Brand Style Preference <small>(Optional)</small></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="styleModern" name="brandStyle" value="modern">
                                <label class="radio-label" for="styleModern">
                                    <i class="fas fa-palette"></i> Modern & Clean
                                </label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="stylePremium" name="brandStyle" value="premium">
                                <label class="radio-label" for="stylePremium">
                                    <i class="fas fa-gem"></i> Premium & Luxury
                                </label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="styleFriendly" name="brandStyle" value="friendly">
                                <label class="radio-label" for="styleFriendly">
                                    <i class="fas fa-heart"></i> Friendly & Warm
                                </label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="styleBold" name="brandStyle" value="bold">
                                <label class="radio-label" for="styleBold">
                                    <i class="fas fa-bolt"></i> Bold & Energetic
                                </label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="styleAI" name="brandStyle" value="ai" checked>
                                <label class="radio-label" for="styleAI">
                                    <i class="fas fa-robot"></i> AI Decides Best
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="help-section">
                        <div class="help-title">
                            <i class="fas fa-question-circle"></i>
                            <span>Don't have brand assets?</span>
                        </div>
                        <p>No problem! If you don't have a logo or brand colors, we'll create a professional brand identity for you based on your industry and preferences.</p>
                    </div>
                </div>

                <!-- STEP 5: Confidence Check -->
                <div class="step" id="step5">
                    <div class="step-header">
                        <h2 class="step-title">How Confident Are You?</h2>
                        <p class="step-subtitle">This helps us provide the right level of support</p>
                    </div>

                    <div class="plan-summary">
                        <div class="form-group">
                            <label class="form-label">How confident are you with the information you've provided?</label>
                            <div class="radio-group" style="flex-direction: column; gap: 10px;">
                                <div class="radio-item">
                                    <input type="radio" id="confidentHigh" name="confidence" value="very-confident">
                                    <label class="radio-label" for="confidentHigh" style="justify-content: flex-start;">
                                        <i class="fas fa-star"></i>
                                        <div>
                                            <strong>Very confident</strong><br>
                                            <small>I've provided complete, accurate information</small>
                                        </div>
                                    </label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="confidentMedium" name="confidence" value="somewhat-confident">
                                    <label class="radio-label" for="confidentMedium" style="justify-content: flex-start;">
                                        <i class="fas fa-check-circle"></i>
                                        <div>
                                            <strong>Somewhat confident</strong><br>
                                            <small>Most info is complete, but I might need some guidance</small>
                                        </div>
                                    </label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="confidentLow" name="confidence" value="need-help">
                                    <label class="radio-label" for="confidentLow" style="justify-content: flex-start;">
                                        <i class="fas fa-hands-helping"></i>
                                        <div>
                                            <strong>I need help with most of this</strong><br>
                                            <small>Please review everything and suggest improvements</small>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="help-section">
                        <div class="help-title">
                            <i class="fas fa-comments"></i>
                            <span>We're here to help</span>
                        </div>
                        <p>Selecting "I need help" will trigger a personal consultation call before we start designing. We'll work together to perfect your requirements.</p>
                    </div>
                </div>

                <!-- STEP 6: Review & Submit -->
                <div class="step" id="step6">
                    <div class="step-header">
                        <h2 class="step-title">Review & Submit</h2>
                        <p class="step-subtitle">Check everything over. You can always refine details later!</p>
                    </div>

                    <div id="reviewContent">
                        <!-- Filled by JavaScript -->
                    </div>

                    <div class="help-section">
                        <div class="help-title">
                            <i class="fas fa-rocket"></i>
                            <span>What happens next?</span>
                        </div>
                        <p>After submission, you'll receive a confirmation email. Our design team will review your order and start working within 24 hours. We'll contact you if we need any clarifications.</p>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="button-group">
                    <button type="button" class="btn btn-secondary" id="prevBtn" onclick="prevStep()">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextStep()">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                    <button type="submit" class="btn btn-primary" id="submitBtn" style="display: none;">
                        <i class="fas fa-paper-plane"></i> Submit Order
                    </button>
                </div>
            </form>
        </div>

        <!-- Success Message (Hidden by default) -->
        <div id="successMessage" style="display: none; text-align: center; padding: 60px 20px;">
            <div style="font-size: 4rem; color: var(--success); margin-bottom: 20px;">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 style="font-size: 2.5rem; margin-bottom: 20px; color: var(--dark);">Order Submitted Successfully!</h2>
            <p style="font-size: 1.2rem; color: var(--text); max-width: 600px; margin: 0 auto 40px;">
                Thank you! Your website order has been received. Our team will begin work immediately and contact you within 24 hours.
            </p>
            <div style="background: var(--light); padding: 30px; border-radius: var(--radius); max-width: 500px; margin: 0 auto;">
                <h3 style="margin-bottom: 15px;">What's Next?</h3>
                <ol style="text-align: left; color: var(--text);">
                    <li style="margin-bottom: 10px;">Check your email for order confirmation</li>
                    <li style="margin-bottom: 10px;">We'll review your requirements (1-2 days)</li>
                    <li style="margin-bottom: 10px;">First design mockups delivered</li>
                    <li>Project kickoff call scheduled</li>
                </ol>
            </div>
        </div>
    </div>



<script>
// ========== STATIC PLAN DETAILS DATABASE ==========
const STATIC_PLAN_DETAILS = {
    // One-time payment plans
    'Standard Own Outright': {
        price: '£1,500',
        type: 'one-time',
        pages: 'Up to 5 Pages',
        revisions: 'Up to 5 Revisions Per Page (build phase only)',
        delivery: '10-15 days',
        support: '3 Months Post-Launch Support',
        supportType: 'email only – bug fixes & minor content updates',
        mobileResponsive: true,
        sslCertificate: 'via client hosting',
        legalTemplates: true,
        hosting: 'not included',
        hostingNote: 'Client provides their own hosting',
        pageLimitNote: 'All published pages count toward the page limit'
    },
    'Premium Own Outright': {
        price: '£3,000',
        type: 'one-time',
        pages: 'Up to 15 Pages',
        revisions: 'Up to 10 Revisions Per Page (build phase only)',
        delivery: '25-30 days',
        support: '6 Months Post-Launch Support',
        supportType: 'email only – bug fixes & minor content updates',
        mobileResponsive: true,
        sslCertificate: 'via client hosting',
        legalTemplates: true,
        hosting: 'not included',
        hostingNote: 'Client provides their own hosting',
        pageLimitNote: 'All published pages count toward the page limit'
    },
    // Monthly plans
    'Standard Monthly Support': {
        price: '£100/month',
        type: 'monthly',
        hosting: 'Website hosting included',
        mobileResponsive: true,
        sslCertificate: 'included',
        maintenance: 'Monthly maintenance',
        securityUpdates: true,
        emailSupport: true,
        legalTemplates: true,
        backups: false,
        performanceMonitoring: false
    },
    'Premium Monthly Support': {
        price: '£150/month',
        type: 'monthly',
        hosting: 'Advanced hosting',
        mobileResponsive: true,
        sslCertificate: 'included',
        maintenance: 'Monthly maintenance',
        securityUpdates: true,
        backups: 'Regular backups',
        performanceMonitoring: true,
        emailSupport: true,
        legalTemplates: true
    }
};

// ===================== CONFIGURATION =====================
const PLANS = {
    standard: {
        name: "Standard Plan",
        // Static details from your plan
        pages: 5,
        revisions: "Up to 5 Revisions Per Page (build phase only)",
        delivery: "10-15 days",
        support: "3 Months Post-Launch Support",
        supportType: "email only – bug fixes & minor content updates",
        ownOutrightPrice: "£1,500",
        monthlyPrice: "£100/month",
        mobileResponsive: true,
        sslCertificate: "via client hosting",
        legalTemplates: true,
        hosting: "not included",
        hostingNote: "Client provides their own hosting",
        // Features for display
        features: [
            "Mobile Responsive Design", 
            "Basic SEO Setup", 
            "Contact Form", 
            "Social Media Integration",
            "Speed Optimization",
            "Legal Page Templates",
            "Email Support"
        ]
    },
    premium: {
        name: "Premium Plan",
        // Static details from your plan
        pages: 15,
        revisions: "Up to 10 Revisions Per Page (build phase only)",
        delivery: "25-30 days",
        support: "6 Months Post-Launch Support",
        supportType: "email only – bug fixes & minor content updates",
        ownOutrightPrice: "£3,000",
        monthlyPrice: "£150/month",
        mobileResponsive: true,
        sslCertificate: "via client hosting",
        legalTemplates: true,
        hosting: "not included",
        hostingNote: "Client provides their own hosting",
        // Features for display
        features: [
            "Mobile Responsive Design",
            "Advanced SEO Optimization",
            "Contact Form with Automation",
            "Social Media Integration",
            "Speed Optimization (95+ Score)",
            "Advanced Analytics",
            "Content Management System",
            "Custom Animations",
            "Priority Support",
            "Legal Page Templates",
            "Premium Design Elements"
        ]
    }
};

const PAGE_TYPES = [
    "About", "Services", "Contact", "Gallery", "Pricing",
    "Testimonials", "Blog", "FAQ", "Team", "Portfolio",
    "Booking", "Shop", "Resources", "Careers", "Custom"
];

const PAGE_GOALS = [
    { id: "generate-leads", label: "Generate leads", icon: "fa-bullseye" },
    { id: "inform", label: "Inform visitors", icon: "fa-info-circle" },
    { id: "build-trust", label: "Build trust", icon: "fa-handshake" },
    { id: "showcase", label: "Showcase work", icon: "fa-images" },
    { id: "ai-decides", label: "AI decides best", icon: "fa-robot" }
];

const PAGE_SECTIONS = [
    { id: "hero", label: "Hero Section", icon: "fa-star" },
    { id: "text-image", label: "Text + Image", icon: "fa-align-left" },
    { id: "gallery", label: "Gallery", icon: "fa-th" },
    { id: "testimonials", label: "Testimonials", icon: "fa-quote-right" },
    { id: "cta", label: "Call to Action", icon: "fa-phone-alt" },
    { id: "ai-sections", label: "AI decides sections", icon: "fa-magic" }
];

const TONE_OPTIONS = [
    { id: "modern", label: "Modern", icon: "fa-palette" },
    { id: "premium", label: "Premium", icon: "fa-gem" },
    { id: "friendly", label: "Friendly", icon: "fa-heart" },
    { id: "bold", label: "Bold", icon: "fa-bolt" },
    { id: "ai-tone", label: "AI decides tone", icon: "fa-robot" }
];

// ===================== STATE MANAGEMENT =====================
let currentStep = 1;
const totalSteps = 6;
let plan = "standard"; // Will be updated from URL/localStorage
let formData = {
    pages: [],
    brand: {},
    confidence: ""
};

// Data from barber funnel
let funnelData = {};
let selectedServices = [];
let serviceCounts = {};
let selectedPlanName = '';
let paymentModel = '';
let staticPlanDetails = null;

// Helper function to get plan price based on payment model
function getPlanPrice(planType, paymentModel) {
    if (!paymentModel) return PLANS[planType].ownOutrightPrice;
    
    if (paymentModel === 'Monthly Support') {
        return PLANS[planType].monthlyPrice;
    } else if (paymentModel === 'Own Outright') {
        return PLANS[planType].ownOutrightPrice;
    }
    return PLANS[planType].ownOutrightPrice;
}

// Helper function to get complete plan name
function getCompletePlanName(planType, paymentModel) {
    if (!paymentModel) return planType + ' Plan';
    
    if (paymentModel === 'Monthly Support') {
        return planType + ' Monthly Support';
    } else if (paymentModel === 'Own Outright') {
        return planType + ' Own Outright';
    }
    return planType + ' Plan';
}

// ===================== INITIALIZATION =====================
document.addEventListener('DOMContentLoaded', function() {
    // Load data from barber funnel
    loadFunnelData();
    
    // Get plan from URL or localStorage
    const urlParams = new URLSearchParams(window.location.search);
    const planParam = urlParams.get('plan');
    const businessParam = urlParams.get('business');
    const paymentModelParam = urlParams.get('paymentModel');
    
    console.log('URL Parameters:', { planParam, businessParam, paymentModelParam });
    
    // Load from localStorage
    try {
        const storedData = JSON.parse(localStorage.getItem('barberFunnelData') || '{}');
        const storedPlan = localStorage.getItem('selectedPlan') || '';
        const storedServices = JSON.parse(localStorage.getItem('selectedServices') || '[]');
        const storedCounts = JSON.parse(localStorage.getItem('serviceCounts') || '{}');
        const storedPaymentModel = localStorage.getItem('paymentModel') || '';
        
        if (storedData.businessName || storedPlan) {
            funnelData = storedData;
            selectedServices = storedServices;
            serviceCounts = storedCounts;
            selectedPlanName = storedPlan;
            paymentModel = paymentModelParam || storedPaymentModel || funnelData.planModel || '';
            
            // Determine plan from stored data
            if (storedPlan.includes('Premium') || storedData.planType === 'Premium') {
                plan = 'premium';
            } else if (storedPlan.includes('Standard') || storedData.planType === 'Standard') {
                plan = 'standard';
            } else if (planParam) {
                plan = (planParam.toLowerCase() === 'premium') ? 'premium' : 'standard';
            }
            
            // Try to get static plan details
            try {
                staticPlanDetails = JSON.parse(localStorage.getItem('staticPlanDetails') || '{}');
                if (!staticPlanDetails || Object.keys(staticPlanDetails).length === 0) {
                    const completePlanName = getCompletePlanName(
                        plan === 'premium' ? 'Premium' : 'Standard',
                        paymentModel
                    );
                    staticPlanDetails = STATIC_PLAN_DETAILS[completePlanName];
                }
            } catch(e) {
                console.log('No static plan details in localStorage');
            }
            
            console.log('Loaded from localStorage:', { 
                funnelData, 
                selectedServices, 
                serviceCounts, 
                selectedPlanName,
                paymentModel,
                staticPlanDetails,
                plan 
            });
        }
    } catch (e) {
        console.error('Error loading localStorage:', e);
    }
    
    // Fallback to URL parameters
    if (!plan || plan === 'standard') {
        plan = (planParam && PLANS[planParam.toLowerCase()]) ? planParam.toLowerCase() : 'standard';
    }
    
    // Initialize form with loaded data
    initializePlan();
    updateProgress();
    setupEventListeners();
    prefillFormData();
});

// Load data from barber funnel
function loadFunnelData() {
    try {
        // Get from localStorage
        funnelData = JSON.parse(localStorage.getItem('barberFunnelData') || '{}');
        selectedServices = JSON.parse(localStorage.getItem('selectedServices') || '[]');
        serviceCounts = JSON.parse(localStorage.getItem('serviceCounts') || '{}');
        selectedPlanName = localStorage.getItem('selectedPlan') || '';
        paymentModel = localStorage.getItem('paymentModel') || funnelData.planModel || '';
        
        console.log('Funnel data loaded:', funnelData);
        console.log('Selected services:', selectedServices);
        console.log('Service counts:', serviceCounts);
        console.log('Selected plan:', selectedPlanName);
        console.log('Payment model:', paymentModel);
        
    } catch (e) {
        console.error('Error loading funnel data:', e);
    }
}

// Pre-fill form with data from funnel
function prefillFormData() {
    // Pre-fill business name if available
    if (funnelData.businessName) {
        const businessNameField = document.getElementById('businessName');
        if (businessNameField) {
            businessNameField.value = funnelData.businessName;
        }
    }
    
    // Update plan summary with selected services
    if (selectedServices.length > 0) {
        const planDetails = document.getElementById('planDetails');
        if (planDetails) {
            // Add services count to plan details
            const servicesHTML = `


</body>
</html>
