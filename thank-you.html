<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>VIBZ | Order confirmed</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* -------------------------------------------------------------
           EXACT VIBZ STYLES â€” 100% IDENTICAL TO INDEX.HTML (APP LOOK)
           ------------------------------------------------------------- */
        :root {
            --primary: #FF6B00;
            --primary-light: #FFF5EE;
            --bg: #FFFFFF;
            --text: #121212;
            --gray: #666;
            --border: rgba(255, 107, 0, 0.1);
            --safe-top: env(safe-area-inset-top);
            --safe-bottom: env(safe-area-inset-bottom);
            --standard: #4CAF50;
            --premium: #2196F3;
        }

        * {
            margin: 0; padding: 0; box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Inter', sans-serif;
        }

        body, html {
            height: 100%;
            background-color: var(--primary-light);
            color: var(--text);
            overflow: hidden;
        }

        #app-container {
            height: 100vh; display: flex; flex-direction: column;
            position: relative;
        }

        /* â€”â€”â€”â€” HEADER â€”â€”â€”â€” */
        header {
            padding: calc(var(--safe-top) + 20px) 25px 10px;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 10;
            position: relative;
            background: var(--primary-light);
            will-change: transform;
        }

        .header-logo { 
            font-size: 1.8rem; font-weight: 900; letter-spacing: -1.5px; color: var(--primary); 
            opacity: 1;
            visibility: visible;
        }
        .header-logo span { color: #000000; }

        /* â€”â€”â€”â€” MENU LAYER (SAME AS INDEX) â€”â€”â€”â€” */
        #app-menu-layer {
            position: fixed; inset: 0; background: var(--primary-light);
            z-index: 3000; display: flex; flex-direction: column;
            padding: calc(var(--safe-top) + 20px) 25px;
            transform: translateY(100%); transition: transform 0.6s cubic-bezier(0.32, 0.72, 0, 1);
        }
        #app-menu-layer.active { transform: translateY(0); }

        .menu-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 20px;
        }

        .menu-logo {
            font-size: 2rem; font-weight: 900; letter-spacing: -1.5px; color: var(--primary);
        }
        .menu-logo span { color: #000000; }

        .menu-links {
            display: flex; flex-direction: column; 
            gap: 20px;
            flex: 1;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .menu-item {
            font-size: 4.5rem; font-weight: 900; color: var(--text);
            text-decoration: none; letter-spacing: -3px; line-height: 1;
            opacity: 0; transform: translateY(30px);
            transition: 0.5s cubic-bezier(0.32, 0.72, 0, 1);
        }
        #app-menu-layer.active .menu-item { 
            opacity: 1; transform: translateY(0); 
        }
        #app-menu-layer.active .menu-item:nth-child(1) { transition-delay: 0.1s; }
        #app-menu-layer.active .menu-item:nth-child(2) { transition-delay: 0.2s; }
        #app-menu-layer.active .menu-item:nth-child(3) { transition-delay: 0.3s; }
        #app-menu-layer.active .menu-item:nth-child(4) { transition-delay: 0.4s; }

        .menu-footer {
            margin-top: auto; 
            font-weight: 800; font-size: 0.8rem; letter-spacing: 1px; color: #bbb;
            text-align: center;
            padding-bottom: 20px;
        }

        /* â€”â€”â€”â€” MAIN SCROLL AREA â€”â€”â€”â€” */
        .content-scroll {
            flex: 1; overflow-y: auto; 
            padding: 0 20px 180px; /* room for dock */
            scroll-behavior: smooth;
            display: flex; flex-direction: column;
            -webkit-overflow-scrolling: touch;
        }

        .thank-you-wrapper {
            display: flex; flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100%;
            width: 100%;
        }

        .thank-you-card {
            background: white;
            border-radius: 40px;
            padding: 30px 24px;
            border: 2px solid var(--border);
            box-shadow: 0 20px 50px rgba(0,0,0,0.05);
            animation: fadeInUp 0.4s ease-out forwards;
            width: 100%;
            max-width: 700px;
            margin: 20px auto;
        }

        @keyframes fadeInUp { 
            from { opacity: 0; transform: translateY(15px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        .thank-you-icon {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 1rem;
            text-align: center;
        }

        h1 {
            font-size: 2.4rem; font-weight: 900; line-height: 1.1;
            letter-spacing: -1.2px; color: var(--primary);
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .subhead {
            color: var(--gray); 
            font-weight: 500; 
            font-size: 1.2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        /* â€”â€”â€”â€” ORDER CARD (LIKE PRICING CARD) â€”â€”â€”â€” */
        .order-card {
            background: #fff;
            border-radius: 30px;
            padding: 24px;
            border: 2px solid var(--border);
            margin-bottom: 24px;
        }

        .order-card.recommended {
            border-color: var(--primary);
            background: linear-gradient(to bottom, #fff, rgba(255,107,0,0.02));
        }

        .badge {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 6px 16px;
            border-radius: 30px;
            font-size: 0.75rem;
            font-weight: 800;
            letter-spacing: 0.5px;
            margin-bottom: 16px;
        }
        .badge.standard { background: var(--standard); }
        .badge.premium { background: var(--premium); }

        .plan-type {
            font-size: 0.8rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--gray);
            margin-bottom: 6px;
        }
        .plan-type.standard-type { color: var(--standard); }
        .plan-type.premium-type { color: var(--premium); }

        .price-row {
            display: flex;
            align-items: baseline;
            flex-wrap: wrap;
            gap: 8px 16px;
            margin: 12px 0 4px;
        }

        .price-value {
            font-size: 1.8rem;
            font-weight: 900;
            line-height: 1;
            color: var(--text);
        }
        .price-value.small { font-size: 1.4rem; }

        .price-period {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--gray);
        }

        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 16px;
        }

        .detail-item {
            background: #f9f9f9;
            border-radius: 20px;
            padding: 16px;
            border: 2px solid var(--border);
        }
        .detail-label {
            font-size: 0.7rem;
            font-weight: 800;
            color: var(--gray);
            text-transform: uppercase;
            margin-bottom: 4px;
        }
        .detail-value {
            font-weight: 800;
            font-size: 1.1rem;
            color: var(--text);
            word-break: break-word;
        }

        /* â€”â€”â€”â€” FEATURE GRID (EXACT SERVICE CARD LOOK) â€”â€”â€”â€” */
        .features-section {
            margin-top: 24px;
        }
        .features-title {
            font-size: 1.2rem;
            font-weight: 900;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .features-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        @media (max-width: 480px) {
            .features-grid { grid-template-columns: 1fr; }
        }

        .feature-card {
            background: #fff;
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 16px;
            position: relative;
            transition: 0.2s;
        }
        .feature-card.standard { border-left: 6px solid var(--standard); }
        .feature-card.premium { border-left: 6px solid var(--premium); }

        .feature-tier {
            font-size: 0.65rem;
            font-weight: 900;
            padding: 4px 10px;
            border-radius: 8px;
            display: inline-block;
            margin-bottom: 8px;
        }
        .feature-tier.standard { background: rgba(76,175,80,0.12); color: var(--standard); }
        .feature-tier.premium { background: rgba(33,150,243,0.12); color: var(--premium); }

        .feature-name {
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--text);
        }

        /* â€”â€”â€”â€” NEXT STEPS (VIBZ BUTTON STYLE) â€”â€”â€”â€” */
        .next-steps {
            margin-top: 30px;
            background: rgba(255,107,0,0.03);
            border-radius: 30px;
            padding: 24px;
            border: 2px solid var(--border);
        }

        .step-card {
            background: white;
            border-radius: 24px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid var(--border);
            transition: 0.2s;
        }
        .step-card:hover { border-color: var(--primary); }

        .step-card h4 {
            font-size: 1.2rem;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 6px;
        }

        .time-badge {
            background: var(--primary);
            color: white;
            padding: 4px 14px;
            border-radius: 30px;
            font-size: 0.7rem;
            font-weight: 800;
            display: inline-block;
            margin-bottom: 12px;
        }

        /* â€”â€”â€”â€” VIBZ BUTTONS (100% SAME AS INDEX) â€”â€”â€”â€” */
        .vibz-btn {
            width: 100%; 
            padding: 18px 18px; 
            border-radius: 20px; 
            border: 1px solid var(--border);
            background: #fff; 
            color: var(--text); 
            font-size: 1rem; 
            font-weight: 800;
            margin-top: 12px; 
            cursor: pointer; 
            transition: 0.2s; 
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.02);
            text-decoration: none; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 8px;
        }
        .vibz-btn.primary { background: var(--primary); color: #fff; border: none; }
        .vibz-btn.secondary { background: white; color: var(--text); border: 2px solid var(--border); }
        .vibz-btn:active { transform: scale(0.97); }

        .terms-note {
            font-size: 0.8rem;
            color: var(--gray);
            text-align: center;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 2px solid var(--border);
            font-weight: 500;
        }

        /* â€”â€”â€”â€” DOCK (EXACT) â€”â€”â€”â€” */
        .app-dock {
            position: fixed; 
            bottom: calc(25px + var(--safe-bottom, 0px)); 
            left: 20px; 
            right: 20px;
            background: rgba(255, 255, 255, 0.85); 
            backdrop-filter: blur(20px);
            height: 80px; 
            border-radius: 40px; 
            display: flex; 
            justify-content: space-around;
            align-items: center; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); 
            z-index: 2000;
            margin-bottom: env(safe-area-inset-bottom, 0px);
        }
        .dock-btn { 
            display: flex; flex-direction: column; align-items: center; 
            color: #A0A0A0; text-decoration: none; gap: 4px; 
            background: none; border: none; cursor: pointer;
        }
        .dock-btn.active { color: var(--primary); }
        .dock-btn i { font-size: 1.4rem; }
        .dock-btn span { font-size: 0.65rem; font-weight: 800; text-transform: uppercase; }
        .dock-center {
            width: 65px; height: 65px; background: var(--primary); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; color: #fff;
            font-size: 1.8rem; margin-top: -50px; border: 6px solid var(--primary-light);
            box-shadow: 0 10px 20px rgba(255, 107, 0, 0.3);
            cursor: pointer;
        }

        @media (min-width: 768px) {
            .menu-item { font-size: 6rem; }
        }
    </style>
</head>
<body>

<!-- ==================== SAME MENU LAYER AS INDEX ==================== -->
<div id="app-menu-layer">
    <div class="menu-header">
        <div class="menu-logo">VIBZ<span>.</span></div>
        <div class="close-btn" style="margin-top:0; border:none; background:none; font-size:1.8rem; cursor:pointer; color:#666;" onclick="toggleMenu()"><i class="fa-solid fa-xmark"></i></div>
    </div>
    <div class="menu-links">
        <a href="https://www.vibz.co.uk/new-design.html" class="menu-item" onclick="toggleMenu()">Home</a>
        <a href="https://www.vibz.co.uk/barber/concepts.html" class="menu-item" onclick="toggleMenu()">Explore</a>
        <a href="#" class="menu-item" onclick="toggleMenu()">Portal</a>
        <a href="#" class="menu-item" onclick="toggleMenu()">Support</a>
    </div>
    <div class="menu-footer">VIBZ COLLECTIVE Â© 2026</div>
</div>

<!-- ==================== APP CONTAINER ==================== -->
<div id="app-container">
    <header>
        <div class="header-logo">VIBZ<span>.</span></div>
        <i class="fa-solid fa-circle-user" style="font-size: 1.8rem; color: #ddd;"></i>
    </header>

    <main class="content-scroll">
        <div class="thank-you-wrapper">
            <div class="thank-you-card">
                
                <!-- SUCCESS ICON -->
                <div class="thank-you-icon">
                    <i class="fas fa-check-circle"></i>
                </div>

                <!-- DYNAMIC TITLE (POPULATED BY JS) -->
                <h1 id="dynamicThankYouTitle">Thank you!</h1>
                <div class="subhead" id="dynamicSubhead">Your order is confirmed</div>

                <!-- ========== ORDER SUMMARY â€“ EXACT PRICING CARD STYLE ========== -->
                <div class="order-card recommended" id="orderSummaryCard">
                    <div class="badge" id="planBadge">STANDARD</div>
                    
                    <div class="plan-type" id="planTypeLabel">BUY OUTRIGHT â€” STANDARD</div>
                    
                    <div class="price-row" id="priceRowContainer">
                        <div class="price-value" id="priceValue">Â£1,500</div>
                        <div class="price-period" id="pricePeriod">one-time</div>
                    </div>
                    
                    <div class="plan-desc" id="planDescription">
                        You own the full website files. Hosting and updates are your responsibility.
                    </div>

                    <!-- DETAIL GRID -->
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Business</div>
                            <div class="detail-value" id="businessNameDisplay">Barber Shop</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Payment model</div>
                            <div class="detail-value" id="paymentModelDisplay">Buy Outright</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Tier</div>
                            <div class="detail-value" id="tierDisplay">Standard</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Design concept</div>
                            <div class="detail-value" id="designCodeDisplay">Custom</div>
                        </div>
                    </div>

                    <!-- MONTHLY COMMITMENT NOTICE (if monthly license) -->
                    <div id="monthlyCommitmentBox" style="margin-top: 20px; background: rgba(33,150,243,0.05); border-radius: 16px; padding: 16px; border-left: 4px solid var(--premium); display: none;">
                        <i class="fas fa-sync" style="color: var(--premium);"></i>
                        <strong style="color: var(--premium);">12-month minimum term.</strong> 
                        <span id="monthlyRateDisplay">Â£125/month</span> starts after delivery.
                    </div>
                </div>

                <!-- ========== SELECTED FEATURES (SAME AS INDEX SERVICE CARDS) ========== -->
                <div class="features-section" id="featuresSection">
                    <div class="features-title">
                        <i class="fas fa-cog" style="color: var(--primary);"></i> Your selected features
                    </div>
                    <div class="features-grid" id="featuresGridContainer">
                        <!-- JS will populate -->
                    </div>
                    <div id="noFeaturesMessage" style="display: none; text-align: center; padding: 24px; background: white; border-radius: 20px; border: 2px solid var(--border);">
                        <i class="fas fa-info-circle" style="font-size: 2rem; color: var(--gray); margin-bottom: 12px;"></i>
                        <p style="font-weight: 600;">No features selected â€” youâ€™ll work with our team.</p>
                    </div>
                </div>

                <!-- ========== NEXT STEPS ========== -->
                <div class="next-steps">
                    <h3 style="font-size: 1.5rem; font-weight: 900; margin-bottom: 20px; color: var(--text);">ðŸš€ Next steps</h3>
                    
                    <div class="step-card">
                        <h4>Complete project brief</h4>
                        <div class="time-badge">START NOW</div>
                        <p style="color: var(--gray); font-weight: 500; font-size: 0.95rem;">Fill out the detailed form so we can start building immediately.</p>
                        <button class="vibz-btn primary" id="completeNowBtn">
                            <i class="fas fa-bolt"></i> Complete details
                        </button>
                    </div>

                    <div class="step-card">
                        <h4>Schedule kickoff call</h4>
                        <div class="time-badge">WITHIN 24H</div>
                        <p style="color: var(--gray); font-weight: 500; font-size: 0.95rem;">Prefer to talk? Book a 15â€‘min call with our design team.</p>
                        <button class="vibz-btn secondary" id="scheduleCallBtn">
                            <i class="fas fa-calendar"></i> Schedule call
                        </button>
                    </div>
                </div>

                <div class="terms-note">
                    <i class="fas fa-exclamation-circle" style="color: var(--primary); margin-right: 6px;"></i>
                    A project manager will contact you within 24 hours. Timeline starts after we receive all details.
                </div>

            </div> <!-- end thank-you-card -->
        </div> <!-- end wrapper -->
    </main>

    <!-- ==================== DOCK â€“ EXACT SAME AS INDEX ==================== -->
    <nav class="app-dock">
        <a href="https://www.vibz.co.uk/barber/index.html" class="dock-btn active"><i class="fa-solid fa-house-chimney"></i><span>Home</span></a>
        <a href="https://www.vibz.co.uk/barber/concepts.html" class="dock-btn"><i class="fa-solid fa-compass"></i><span>Library</span></a>
        <div class="dock-center" onclick="window.location.href='https://www.vibz.co.uk/barber/index.html'"><i class="fa-solid fa-bolt"></i></div>
        <a href="#" class="dock-btn"><i class="fa-solid fa-briefcase"></i><span>Portal</span></a>
        <button class="dock-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i><span>Menu</span></button>
    </nav>
</div>

<script>
    // -------------------------------------------------------------
    //  EXACT SAME CONFIG AS INDEX â€” MIRRORED FROM FUNNEL
    // -------------------------------------------------------------
    const PRICING_CONFIG = {
        outright: { standard: 1500, premium: 3000 },
        monthly:  { standard: 125,  premium: 225 }
    };
    const PLAN_CONFIG = {
        outright: { name: 'Buy Outright', shortName: 'OWN IT' },
        monthly:  { name: 'Monthly License', shortName: 'LICENSE' }
    };
    const TIER_CONFIG = {
        standard: { name: 'STANDARD', color: '#4CAF50' },
        premium:  { name: 'PREMIUM', color: '#2196F3' }
    };

    // -------------------------------------------------------------
    //  TOGGLE MENU (SAME AS INDEX)
    // -------------------------------------------------------------
    function toggleMenu() {
        const menu = document.getElementById('app-menu-layer');
        menu.classList.toggle('active');
    }

    // -------------------------------------------------------------
    //  LOAD ORDER FROM sessionStorage (SET BY INDEX FUNNEL)
    // -------------------------------------------------------------
    function loadOrderFromStorage() {
        let selections = {
            businessName: sessionStorage.getItem('barberShopName') || 'Your shop',
            planType: sessionStorage.getItem('vibz_planType') || sessionStorage.getItem('selectedPlanType') || '',
            designCode: sessionStorage.getItem('selectedBarberCode') || '',
            urgency: sessionStorage.getItem('vibz_urgency') || '',
            services: [],
            recommendedPlan: 'standard'
        };

        // 1) services array
        try {
            const saved = sessionStorage.getItem('selectedServices');
            if (saved) {
                selections.services = JSON.parse(saved);
            } else {
                const local = localStorage.getItem('selectedServices');
                if (local) selections.services = JSON.parse(local);
            }
        } catch (e) {
            console.warn('no services');
            selections.services = [];
        }

        // 2) fallback planType
        if (!selections.planType) {
            selections.planType = localStorage.getItem('selectedPlanType') || 'Buy Outright';
        }

        // 3) determine recommendedPlan based on selected features (same logic as index)
        const premCount = selections.services.filter(s => s.tier === 'premium').length;
        const stdCount = selections.services.filter(s => s.tier === 'standard').length;
        if (premCount > 3 || stdCount > 8) {
            selections.recommendedPlan = 'premium';
        } else {
            selections.recommendedPlan = 'standard';
        }

        // 4) fallback business name
        if (selections.businessName === 'Your shop' || !selections.businessName) {
            const localName = localStorage.getItem('barberShopName');
            if (localName) selections.businessName = localName;
        }

        return selections;
    }

    // -------------------------------------------------------------
    //  RENDER THANK YOU PAGE WITH EXACT ORDER DETAILS
    // -------------------------------------------------------------
    function renderThankYou() {
        const order = loadOrderFromStorage();
        const isMonthly = (order.planType === PLAN_CONFIG.monthly.name);
        const tier = order.recommendedPlan; // 'standard' or 'premium'
        const tierName = tier === 'standard' ? 'STANDARD' : 'PREMIUM';
        const planDisplayName = order.planType || 'Buy Outright';

        // ----- 1. HEADER -----
        document.getElementById('dynamicThankYouTitle').innerText = `Thank you, ${order.businessName}!`;
        document.getElementById('dynamicSubhead').innerText = 
            `Your ${tierName} ${isMonthly ? 'license' : 'outright'} order is confirmed`;

        // ----- 2. ORDER CARD (badge, price, plan type) -----
        const badgeEl = document.getElementById('planBadge');
        badgeEl.innerText = tierName;
        badgeEl.className = `badge ${tier}`;

        document.getElementById('planTypeLabel').innerHTML = 
            `${planDisplayName.toUpperCase()} â€” ${tierName}`;
        
        // price
        let oneTimePrice = 0, monthlyPrice = 0;
        if (isMonthly) {
            oneTimePrice = tier === 'standard' ? 500 : 650;
            monthlyPrice = tier === 'standard' ? 125 : 225;
            document.getElementById('priceValue').innerHTML = `Â£${oneTimePrice}`;
            document.getElementById('pricePeriod').innerHTML = 'build fee (one-time)';
            document.getElementById('planDescription').innerHTML = 
                '12-month minimum term. Website is licensed, not owned.';
            // show monthly commitment box
            const monthlyBox = document.getElementById('monthlyCommitmentBox');
            monthlyBox.style.display = 'block';
            document.getElementById('monthlyRateDisplay').innerHTML = `Â£${monthlyPrice}/month`;
        } else {
            oneTimePrice = tier === 'standard' ? 1500 : 3000;
            document.getElementById('priceValue').innerHTML = `Â£${oneTimePrice.toLocaleString()}`;
            document.getElementById('pricePeriod').innerHTML = 'one-time';
            document.getElementById('planDescription').innerHTML = 
                'You own the full website files. Hosting and updates are your responsibility.';
            document.getElementById('monthlyCommitmentBox').style.display = 'none';
        }

        // ----- 3. DETAIL GRID -----
        document.getElementById('businessNameDisplay').innerText = order.businessName;
        document.getElementById('paymentModelDisplay').innerText = planDisplayName;
        document.getElementById('tierDisplay').innerText = tierName;
        document.getElementById('designCodeDisplay').innerText = 
            order.designCode ? order.designCode.toUpperCase() : 'Custom design';

        // ----- 4. FEATURES GRID -----
        const featuresGrid = document.getElementById('featuresGridContainer');
        const noFeaturesMsg = document.getElementById('noFeaturesMessage');
        featuresGrid.innerHTML = '';

        if (order.services && order.services.length > 0) {
            noFeaturesMsg.style.display = 'none';
            const standardFeats = order.services.filter(s => s.tier === 'standard');
            const premiumFeats = order.services.filter(s => s.tier === 'premium');

            // show standard first
            standardFeats.forEach(f => {
                const card = document.createElement('div');
                card.className = 'feature-card standard';
                card.innerHTML = `
                    <span class="feature-tier standard">STANDARD</span>
                    <div class="feature-name">${f.name}</div>
                `;
                featuresGrid.appendChild(card);
            });
            premiumFeats.forEach(f => {
                const card = document.createElement('div');
                card.className = 'feature-card premium';
                card.innerHTML = `
                    <span class="feature-tier premium">PREMIUM</span>
                    <div class="feature-name">${f.name}</div>
                `;
                featuresGrid.appendChild(card);
            });
        } else {
            noFeaturesMsg.style.display = 'block';
        }

        // ----- 5. NEXT STEP BUTTONS WITH CONTEXT -----
        const completeBtn = document.getElementById('completeNowBtn');
        completeBtn.onclick = function(e) {
            e.preventDefault();
            alert(`Project brief for ${order.businessName} (${tierName} ${planDisplayName}) â€“ opening form.`);
            // in production: window.location.href = `https://...`;
        };

        const scheduleBtn = document.getElementById('scheduleCallBtn');
        scheduleBtn.onclick = function() {
            alert(`Call scheduling link sent â€“ weâ€™ll contact ${order.businessName} within 24h.`);
        };
    }

    // -------------------------------------------------------------
    //  RUN ON LOAD
    // -------------------------------------------------------------
    window.onload = function() {
        renderThankYou();
        // ensure menu is closed
        const menu = document.getElementById('app-menu-layer');
        if (menu.classList.contains('active')) menu.classList.remove('active');
    };
</script>

</body>
</html>
