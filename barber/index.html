<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VIBZ | Barber Funnel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #FF6B00;
            --primary-glow: rgba(255, 107, 0, 0.3);
            --dark: #121212;
            --gray: #888888;
            --light-gray: #f4f4f4;
            --white: #FFFFFF;
            --border: rgba(0, 0, 0, 0.08);
            --success: #4CAF50;
            --premium: #2196F3;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--white);
            color: var(--dark);
            overflow-x: hidden;
            line-height: 1.5;
        }

        /* --- BOOT SEQUENCE --- */
        #boot-screen {
            position: fixed;
            inset: 0;
            background: var(--dark);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--primary);
        }

        .boot-logo {
            font-size: 2.5rem;
            font-weight: 900;
            letter-spacing: -1px;
            margin-bottom: 20px;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.5; transform: scale(0.98); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 0.5; transform: scale(0.98); }
        }

        /* --- APP SHELL --- */
        .app-header {
            position: fixed;
            top: 0;
            width: 100%;
            height: 60px;
            background: var(--white);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            border-bottom: 1px solid var(--border);
            z-index: 100;
        }

        .logo {
            font-weight: 900;
            font-size: 1.4rem;
            color: var(--dark);
        }

        .logo span { color: var(--primary); }

        .user-icon {
            width: 35px;
            height: 35px;
            background: var(--light-gray);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* --- FUNNEL CONTAINER --- */
        .funnel-section {
            padding: 80px 20px 100px;
            max-width: 600px;
            margin: 0 auto;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-bottom: 30px;
        }

        .step-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--light-gray);
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: var(--primary);
            transform: scale(1.2);
            box-shadow: 0 0 8px var(--primary-glow);
        }

        .form-screen {
            display: none;
            animation: fadeIn 0.4s ease-out;
        }

        .form-screen.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 10px;
            color: var(--dark);
            letter-spacing: -0.5px;
        }

        p { color: var(--gray); margin-bottom: 25px; }

        input[type="text"], input[type="email"], input[type="tel"], select, textarea {
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            border: 2px solid var(--border);
            font-size: 1rem;
            margin-bottom: 20px;
            outline: none;
            transition: border-color 0.3s;
        }

        input:focus { border-color: var(--primary); }

        .options {
            display: grid;
            gap: 12px;
            margin-bottom: 20px;
        }

        .vibz-btn {
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            border: 2px solid var(--border);
            background: var(--white);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            text-decoration: none;
            color: var(--dark);
            display: block;
        }

        .vibz-btn:active { transform: scale(0.98); }
        
        .vibz-btn-primary {
            background: var(--primary);
            color: var(--white);
            border: none;
        }

        .back-button {
            margin-top: 20px;
            border: none;
            color: var(--gray);
            font-size: 0.9rem;
            background: transparent;
        }

        /* --- SERVICE CARDS --- */
        .services-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .service-card {
            padding: 15px;
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .service-card.selected {
            border-color: var(--primary);
            background: rgba(255, 107, 0, 0.05);
        }

        .service-card.standard.selected { border-color: var(--success); background: rgba(76, 175, 80, 0.05); }
        .service-card.premium.selected { border-color: var(--premium); background: rgba(33, 150, 243, 0.05); }

        /* --- PRICING --- */
        .pricing-container {
            display: grid;
            gap: 20px;
            margin-top: 20px;
        }

        .pricing-card {
            padding: 25px;
            border-radius: 20px;
            border: 2px solid var(--border);
            position: relative;
            background: white;
        }

        .required-badge {
            position: absolute;
            top: -12px;
            right: 20px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 800;
            color: white;
        }

        .recommended-glow { background: var(--success); box-shadow: 0 0 15px rgba(76, 175, 80, 0.4); }
        .required-glow { background: var(--premium); box-shadow: 0 0 15px rgba(33, 150, 243, 0.4); }

        .price { font-size: 2.5rem; font-weight: 900; margin: 10px 0; }
        .price-period { font-size: 1rem; color: var(--gray); }

        .pricing-features { list-style: none; margin: 20px 0; }
        .pricing-features li { margin-bottom: 10px; font-size: 0.9rem; display: flex; align-items: center; gap: 10px; }

        /* --- DOCK --- */
        .dock-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            height: 65px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            border: 1px solid var(--border);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 0 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .dock-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--gray);
            font-size: 0.65rem;
            font-weight: 600;
            text-decoration: none;
        }

        .dock-item i { font-size: 1.2rem; margin-bottom: 4px; }
        .dock-item.active { color: var(--primary); }

        .bolt-center {
            width: 55px;
            height: 55px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-top: -35px;
            border: 5px solid var(--white);
            box-shadow: 0 5px 15px var(--primary-glow);
        }

        /* --- HELPERS --- */
        .code-status { font-size: 0.85rem; margin-top: 5px; }
        .code-status.success { color: var(--success); }
        .code-status.error { color: #f44336; }
        
        .concept-display-card {
            background: var(--light-gray);
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .concept-display-image img { width: 100%; display: block; }
        .concept-display-code { padding: 10px; text-align: center; font-weight: 800; background: var(--dark); color: white; }
    </style>
</head>
<body>

    <div id="boot-screen">
        <div class="boot-logo">VIBZ<span>.</span></div>
        <div style="font-size: 0.8rem; letter-spacing: 2px;">INITIALIZING FUNNEL</div>
    </div>

    <header class="app-header">
        <div class="logo">VIBZ<span>.</span></div>
        <div class="user-icon"><i class="fas fa-user"></i></div>
    </header>

    <section class="funnel-section">
        <div class="container">
            <div class="step-indicator">
                <div class="step-dot active" data-step="1"></div>
                <div class="step-dot" data-step="2"></div>
                <div class="step-dot" data-step="3"></div>
                <div class="step-dot" data-step="4"></div>
                <div class="step-dot" data-step="5"></div>
                <div class="step-dot" data-step="6"></div>
                <div class="step-dot" data-step="7"></div>
                <div class="step-dot" data-step="8"></div>
                <div class="step-dot" data-step="9"></div>
                <div class="step-dot" data-step="10"></div>
                <div class="step-dot" data-step="11"></div>
                <div class="step-dot" data-step="12"></div>
                <div class="step-dot" data-step="13"></div>
            </div>

            <form id="formWrapper">
                <input type="hidden" id="hiddenPlan" name="Selected Plan">
                <input type="hidden" id="hiddenFeatures" name="Selected Features">
                <input type="hidden" id="hiddenPaymentLink" name="Payment Link">
                <input type="hidden" id="hiddenDesignCode" name="Design Code">

                <div class="form-screen active" id="step-1">
                    <h2>Barber Shop Name?</h2>
                    <p>Let's start by personalizing your project.</p>
                    <input type="text" id="businessInput" placeholder="e.g. The Gentlemen's Cut">
                    <button type="button" class="vibz-btn vibz-btn-primary" onclick="handleBusinessName()">Next Step</button>
                </div>

                <div class="form-screen" id="step-2">
                    <h2>What do you need?</h2>
                    <div class="options">
                        <button type="button" class="vibz-btn" onclick="setProjectType('New Website')">New Website</button>
                        <button type="button" class="vibz-btn" onclick="setProjectType('Redesign Existing')">Redesign Existing</button>
                        <button type="button" class="vibz-btn" onclick="setProjectType('Maintenance')">Maintenance</button>
                    </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-3">
                    <h2 id="step3Title">Design Concept?</h2>
                    <div id="designInfo" style="display: none; background: rgba(255, 107, 0, 0.1); padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px solid var(--primary);">
                        <p style="margin: 0; color: var(--dark); font-weight: 700;">
                            Selected: <span id="selectedDesignCode" style="color: var(--primary);"></span>
                        </p>
                    </div>
                    <div class="options">
                        <button type="button" class="vibz-btn" onclick="setDesignConcept('Code')" id="codeBtn">I have a code</button>
                        <button type="button" class="vibz-btn" onclick="window.location.href='concepts.html'">Show me concepts</button>
                        <button type="button" class="vibz-btn" onclick="setDesignConcept('Custom')">Custom design</button>
                    </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-4">
                    <h2>Enter Design Code</h2>
                    <p>Format: barber-1, barber-2, etc.</p>
                    <input type="text" id="designCodeInput" placeholder="e.g. barber-5">
                    <div id="codeStatus" class="code-status"></div>
                    
                    <div id="conceptDisplay" style="display: none;">
                        <div class="concept-display-card">
                            <div class="concept-display-image"><img id="conceptDisplayImage" src=""></div>
                            <div class="concept-display-code" id="conceptDisplayCode"></div>
                        </div>
                        <button type="button" class="vibz-btn vibz-btn-primary" onclick="confirmDesignSelection()" id="confirmDesignBtn">Continue</button>
                    </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-5">
                    <h2>Main Clients?</h2>
                    <div class="options">
                        <button type="button" class="vibz-btn" onclick="setAudience('Men')">Men</button>
                        <button type="button" class="vibz-btn" onclick="setAudience('Women')">Women</button>
                        <button type="button" class="vibz-btn" onclick="setAudience('Children')">Children</button>
                        <button type="button" class="vibz-btn" onclick="setAudience('Family')">Mixed/Family</button>
                    </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-6">
                    <h2>Preferred Style?</h2>
                    <div class="options">
                        <button type="button" class="vibz-btn" onclick="setStyle('Classic')">Classic</button>
                        <button type="button" class="vibz-btn" onclick="setStyle('Modern')">Modern</button>
                        <button type="button" class="vibz-btn" onclick="setStyle('Minimalist')">Minimalist</button>
                        <button type="button" class="vibz-btn" onclick="setStyle('Premium')">Premium</button>
                    </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-7">
                    <h2>Color Scheme?</h2>
                    <div class="options">
                        <button type="button" class="vibz-btn" onclick="setColor('Black & Gold')">Black & Gold</button>
                        <button type="button" class="vibz-btn" onclick="setColor('Modern/Vibrant')">Modern/Vibrant</button>
                        <button type="button" class="vibz-btn" onclick="setColor('Neutral/Classic')">Neutral/Classic</button>
                        <button type="button" class="vibz-btn" onclick="setColor('Custom')">Custom</button>
                    </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-8">
                    <h2>Main Goal?</h2>
                    <div class="options">
                        <button type="button" class="vibz-btn" onclick="setGoal('Attract New Clients')">Attract New Clients</button>
                        <button type="button" class="vibz-btn" onclick="setGoal('Showcase Portfolio')">Showcase Portfolio</button>
                        <button type="button" class="vibz-btn" onclick="setGoal('Facilitate Bookings')">Facilitate Bookings</button>
                    </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-9">
                    <h2 id="step9Title">Select Services</h2>
                    <div class="services-grid" id="servicesGridContainer">
                        </div>
                    
                    <div id="selectionSummary" style="background: var(--light-gray); padding: 20px; border-radius: 15px; margin: 20px 0;">
                        <div style="display: flex; gap: 15px; font-weight: 700; margin-bottom: 10px;">
                            <span style="color: var(--success);">Standard: <span id="standardCount">0</span></span>
                            <span style="color: var(--premium);">Premium: <span id="premiumCount">0</span></span>
                        </div>
                        <div id="planRecommendationPreview" style="display:none; padding: 8px; border-radius: 8px; color: white; font-size: 0.8rem; text-align: center;"></div>
                    </div>

                    <button type="button" class="vibz-btn vibz-btn-primary" onclick="nextFromServices()">Continue</button>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-10">
                    <h2>Next Step?</h2>
                    <div class="options">
                        <button type="button" class="vibz-btn" onclick="setUrgency('Start ASAP')">Start ASAP</button>
                        <button type="button" class="vibz-btn" onclick="setUrgency('More Info')">Need More Info</button>
                    </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-11">
                    <h2>Payment Preference?</h2>
                    <div class="options">
                        <button type="button" class="vibz-btn" onclick="setPlanModel('Own Outright')">
                            <strong>Own Outright</strong><br>
                            <small>One-time payment</small>
                        </button>
                        <button type="button" class="vibz-btn" onclick="setPlanModel('Monthly Support')">
                            <strong>Monthly Support</strong><br>
                            <small>Subscription inclusive</small>
                        </button>
                    </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-12">
                    <h2>Contact Details</h2>
                    <div class="lead-form-container">
                        <input type="text" id="leadName" placeholder="Full Name">
                        <input type="email" id="leadEmail" placeholder="Email Address">
                        <input type="tel" id="leadPhone" placeholder="Phone Number">
                        <button type="button" class="vibz-btn vibz-btn-primary" onclick="submitLeadForm(event)">Send My Info</button>
                    </div>
                    <button type="button" class="back-button" onclick="goBackToStep10()">← Go Back</button>
                </div>

                <div class="form-screen" id="step-13">
                    <h2>Recommended Plans</h2>
                    <p id="planRecommendation"></p>
                    <div id="pricingCards">
                        </div>
                    <button type="button" class="back-button" onclick="prev()">← Go Back</button>
                </div>
            </form>
        </div>
    </section>

    <div class="dock-container">
        <a href="#" class="dock-item active"><i class="fas fa-home"></i><span>Home</span></a>
        <a href="#" class="dock-item"><i class="fas fa-search"></i><span>Explore</span></a>
        <a href="#" class="dock-item"><div class="bolt-center"><i class="fas fa-bolt"></i></div></a>
        <a href="#" class="dock-item"><i class="fas fa-rocket"></i><span>Portal</span></a>
        <a href="#" class="dock-item"><i class="fas fa-bars"></i><span>Menu</span></a>
    </div>

    <script>
        // ========== BARBER CONCEPTS DATABASE ==========
        const barberConcepts = [
            { code: "barber-1", image: "https://raw.githubusercontent.com/doctoc30/Vibz/main/images/barber-1.jpg" },
            { code: "barber-2", image: "https://raw.githubusercontent.com/doctoc30/Vibz/main/images/barber-2.jpg" },
            { code: "barber-3", image: "https://raw.githubusercontent.com/doctoc30/Vibz/main/images/barber-3.jpg" },
            { code: "barber-4", image: "https://raw.githubusercontent.com/doctoc30/Vibz/main/images/barber-4.jpg" }, 
            { code: "barber-5", image: "https://raw.githubusercontent.com/doctoc30/Vibz/main/images/barber-5.jpg" }
            // ... (Rest of codes 6-100 will follow logic)
        ];

        // Generate concepts 6-100 programmatically for database consistency
        for(let i=6; i<=100; i++) {
            barberConcepts.push({ code: `barber-${i}`, image: `https://raw.githubusercontent.com/doctoc30/Vibz/main/images/barber-${i}.jpg` });
        }

        const allServices = [
            { name: 'Services & Pricing Display', tier: 'standard' },
            { name: 'Team / Barber Profiles', tier: 'standard' },
            { name: 'Photo Gallery / Portfolio', tier: 'standard' },
            { name: 'Basic Before & After Slider', tier: 'standard' },
            { name: 'Special Offers Section', tier: 'standard' },
            { name: 'Opening Hours Display', tier: 'standard' },
            { name: 'Location & Directions', tier: 'standard' },
            { name: 'Tap-to-Call Buttons', tier: 'standard' },
            { name: 'Contact Form', tier: 'standard' },
            { name: 'Online Booking System', tier: 'premium' },
            { name: 'Stripe Payments', tier: 'premium' },
            { name: 'Automated Reminders', tier: 'premium' },
            { name: 'Gift Cards', tier: 'premium' },
            { name: 'Waitlist System', tier: 'premium' },
            { name: 'Advanced Analytics', tier: 'premium' },
            { name: 'Full Branding Package', tier: 'premium' }
        ];

        let currentStep = 1;
        const formData = {
            businessName: '', projectType: '', designConcept: '', designCode: '',
            features: [], audience: '', style: '', color: '', goal: '',
            urgency: '', planModel: '', planType: '', forcePremiumPlan: false
        };

        let premiumServiceCount = 0;
        let standardServiceCount = 0;

        // --- DOM Elements ---
        const screens = document.querySelectorAll('.form-screen');
        const dots = document.querySelectorAll('.step-dot');
        const designCodeInput = document.getElementById('designCodeInput');

        // Initial Boot
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('boot-screen').style.transition = '0.5s';
                document.getElementById('boot-screen').style.opacity = '0';
                setTimeout(() => document.getElementById('boot-screen').remove(), 500);
            }, 1500);
            initServicesGrid();
        });

        function initServicesGrid() {
            const grid = document.getElementById('servicesGridContainer');
            allServices.forEach(s => {
                const card = document.createElement('div');
                card.className = `service-card ${s.tier}`;
                card.innerHTML = `
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <span style="font-weight:700; font-size:0.9rem;">${s.name}</span>
                        <span style="font-size:0.7rem; padding:2px 6px; border-radius:4px; background:${s.tier==='standard'?'#4CAF50':'#2196F3'}; color:white;">${s.tier.toUpperCase()}</span>
                    </div>
                `;
                card.onclick = () => toggleService(s.name, card);
                grid.appendChild(card);
            });
        }

        function toggleService(name, el) {
            const index = formData.features.indexOf(name);
            if (index === -1) {
                formData.features.push(name);
                el.classList.add('selected');
            } else {
                formData.features.splice(index, 1);
                el.classList.remove('selected');
            }
            updateCounters();
        }

        function updateCounters() {
            standardServiceCount = formData.features.filter(f => allServices.find(s => s.name === f).tier === 'standard').length;
            premiumServiceCount = formData.features.filter(f => allServices.find(s => s.name === f).tier === 'premium').length;
            
            document.getElementById('standardCount').textContent = standardServiceCount;
            document.getElementById('premiumCount').textContent = premiumServiceCount;
            
            const preview = document.getElementById('planRecommendationPreview');
            if(premiumServiceCount > 0) {
                preview.style.display = 'block';
                preview.style.background = 'var(--premium)';
                preview.textContent = 'PREMIUM PLAN REQUIRED';
                formData.forcePremiumPlan = true;
            } else if(standardServiceCount > 0) {
                preview.style.display = 'block';
                preview.style.background = 'var(--success)';
                preview.textContent = 'STANDARD PLAN RECOMMENDED';
                formData.forcePremiumPlan = false;
            } else {
                preview.style.display = 'none';
            }
        }

        function showScreen(num) {
            screens.forEach(s => s.classList.remove('active'));
            document.getElementById(`step-${num}`).classList.add('active');
            dots.forEach((d, i) => d.classList.toggle('active', i < num));
            
            if(num === 13) showFinalPlans();
        }

        function next() { currentStep++; showScreen(currentStep); }
        function prev() { currentStep--; showScreen(currentStep); }

        function handleBusinessName() {
            formData.businessName = document.getElementById('businessInput').value.trim();
            if(!formData.businessName) return alert("Enter business name");
            next();
        }

        function setProjectType(t) { formData.projectType = t; next(); }
        function setDesignConcept(c) { 
            formData.designConcept = c; 
            if(c === 'Custom') { formData.designCode = 'CUSTOM'; currentStep = 5; showScreen(5); }
            else next(); 
        }

        function setAudience(a) { formData.audience = a; next(); }
        function setStyle(s) { formData.style = s; next(); }
        function setColor(c) { formData.color = c; next(); }
        function setGoal(g) { formData.goal = g; next(); }
        function setUrgency(u) { 
            formData.urgency = u; 
            if(u === 'Start ASAP') { currentStep = 11; showScreen(11); }
            else { currentStep = 12; showScreen(12); }
        }
        function setPlanModel(m) { formData.planModel = m; next(); }

        function nextFromServices() {
            if(formData.features.length === 0) return alert("Select at least 1 service");
            next();
        }

        function normalizeCode(input) {
            let n = input.toLowerCase().trim().replace(/^barber[\s\-]*/, '');
            return /^\d+$/.test(n) ? `barber-${n}` : '';
        }

        designCodeInput.addEventListener('input', () => {
            const code = normalizeCode(designCodeInput.value);
            const found = barberConcepts.find(c => c.code === code);
            const status = document.getElementById('codeStatus');
            const display = document.getElementById('conceptDisplay');
            
            if(found) {
                status.innerHTML = `<span class="success">✓ Code Valid: ${code}</span>`;
                document.getElementById('conceptDisplayImage').src = found.image;
                document.getElementById('conceptDisplayCode').textContent = code.toUpperCase();
                display.style.display = 'block';
            } else {
                status.innerHTML = `<span class="error">✗ Invalid Code</span>`;
                display.style.display = 'none';
            }
        });

        function confirmDesignSelection() {
            formData.designCode = normalizeCode(designCodeInput.value);
            next();
        }

        function showFinalPlans() {
            const container = document.getElementById('pricingCards');
            const isMonthly = formData.planModel === 'Monthly Support';
            const force = formData.forcePremiumPlan;
            
            document.getElementById('planRecommendation').innerHTML = force ? 
                `Premium services selected. <strong>Premium Plan Required.</strong>` : 
                `Recommended plan for your selection:`;

            if(isMonthly) {
                container.innerHTML = `
                    <div class="pricing-card ${!force?'recommended-glow':''}">
                        ${!force?'<div class="required-badge recommended-glow">RECOMMENDED</div>':''}
                        <h3>Monthly Standard</h3>
                        <div class="price">£100<span class="price-period">/mo</span></div>
                        <ul class="pricing-features">
                            <li><i class="fas fa-check"></i> Hosting & Support</li>
                            <li><i class="fas fa-check"></i> Standard Features</li>
                        </ul>
                        <button type="button" class="vibz-btn ${!force?'vibz-btn-primary':''}" onclick="redirectToPayment('Monthly Standard', '#')" ${force?'disabled style="opacity:0.5"':''}>Select</button>
                    </div>
                    <div class="pricing-card ${force?'required-glow':''}">
                        ${force?'<div class="required-badge required-glow">REQUIRED</div>':''}
                        <h3>Monthly Premium</h3>
                        <div class="price">£150<span class="price-period">/mo</span></div>
                        <ul class="pricing-features">
                            <li><i class="fas fa-check"></i> All Premium Features</li>
                            <li><i class="fas fa-check"></i> Priority Support</li>
                        </ul>
                        <button type="button" class="vibz-btn ${force?'vibz-btn-primary':''}" onclick="redirectToPayment('Monthly Premium', '#')">Select</button>
                    </div>
                `;
            } else {
                container.innerHTML = `
                    <div class="pricing-card ${!force?'recommended-glow':''}">
                        <h3>Standard Own</h3>
                        <div class="price">£1,500</div>
                        <button type="button" class="vibz-btn ${!force?'vibz-btn-primary':''}" onclick="redirectToPayment('Standard Own', '#')" ${force?'disabled style="opacity:0.5"':''}>Select</button>
                    </div>
                    <div class="pricing-card ${force?'required-glow':''}">
                        <h3>Premium Own</h3>
                        <div class="price">£3,000</div>
                        <button type="button" class="vibz-btn ${force?'vibz-btn-primary':''}" onclick="redirectToPayment('Premium Own', '#')">Select</button>
                    </div>
                `;
            }
        }

        function redirectToPayment(plan, link) {
            alert(`Redirecting to Stripe for ${plan}\nBusiness: ${formData.businessName}\nDesign: ${formData.designCode}`);
            // window.location.href = link;
        }

        function submitLeadForm(e) {
            e.preventDefault();
            alert("Info Sent! We will contact you soon.");
            goBackToStep10();
        }

        function goBackToStep10() { currentStep = 10; showScreen(10); }

    </script>
</body>
</html>
